<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    
		<link href="../../_app/immutable/assets/0.4a420da5.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Grid.1f4741a5.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/A.48915739.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/MenuButton.daa4f3ea.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Button.e56dcb72.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/IconLink.ef32bd23.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/TableOfContents.8b309c48.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Code.64812c73.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/Title.71d83a21.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/GuideImage.d5be000a.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.4d508623.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/scheduler.2e48bd10.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/singletons.99aca320.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.b93fb93f.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.6aaf801a.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.ed958696.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.9466c942.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Grid.6b3ec5be.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/A.2ad5f04f.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/MenuButton.1ea166fa.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.8515c273.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/stores.32aa8713.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Button.5f1bbe22.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/slack-icon.f588d972.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/link-arrow-icon.69406986.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/IconLink.033f7222.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/breakpointObserver.00fe8a69.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/navigation.34d832ff.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/urls.2ac53403.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/17.6b750084.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/TableOfContents.c7a57465.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Code.23820852.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/json.4d993fc0.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/Title.c4343f87.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/GuideImage.920a4a56.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/bash.7e4226ac.js"><title>Legacy: How to verify consent in data source - IOXIO Docs</title><!-- HEAD_svelte-1bze8jb_START --><meta property="og:title" content="Legacy: How to verify consent in data source"><!-- HEAD_svelte-1bze8jb_END --><!-- HEAD_svelte-l5d0hf_START --><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: Tokyo-night-Dark
  origin: https://github.com/enkia/tokyo-night-vscode-theme
  Description: Original highlight.js style
  Author: (c) Henri Vandersleyen <hvandersleyen@gmail.com>
  License: see project LICENSE
  Touched: 2022
*/.hljs-comment,.hljs-meta{color:#565f89}.hljs-deletion,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-tag,.hljs-template-tag,.hljs-variable.language_{color:#f7768e}.hljs-link,.hljs-literal,.hljs-number,.hljs-params,.hljs-template-variable,.hljs-type,.hljs-variable{color:#ff9e64}.hljs-attribute,.hljs-built_in{color:#e0af68}.hljs-keyword,.hljs-property,.hljs-subst,.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#7dcfff}.hljs-selector-tag{color:#73daca}.hljs-addition,.hljs-bullet,.hljs-quote,.hljs-string,.hljs-symbol{color:#9ece6a}.hljs-code,.hljs-formula,.hljs-section{color:#7aa2f7}.hljs-attr,.hljs-char.escape_,.hljs-keyword,.hljs-name,.hljs-operator{color:#bb9af7}.hljs-punctuation{color:#c0caf5}.hljs{background:#1a1b26;color:#9aa5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><!-- HTML_TAG_END --><!-- HEAD_svelte-l5d0hf_END --><!-- HEAD_svelte-l5d0hf_START --><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: Tokyo-night-Dark
  origin: https://github.com/enkia/tokyo-night-vscode-theme
  Description: Original highlight.js style
  Author: (c) Henri Vandersleyen <hvandersleyen@gmail.com>
  License: see project LICENSE
  Touched: 2022
*/.hljs-comment,.hljs-meta{color:#565f89}.hljs-deletion,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-tag,.hljs-template-tag,.hljs-variable.language_{color:#f7768e}.hljs-link,.hljs-literal,.hljs-number,.hljs-params,.hljs-template-variable,.hljs-type,.hljs-variable{color:#ff9e64}.hljs-attribute,.hljs-built_in{color:#e0af68}.hljs-keyword,.hljs-property,.hljs-subst,.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#7dcfff}.hljs-selector-tag{color:#73daca}.hljs-addition,.hljs-bullet,.hljs-quote,.hljs-string,.hljs-symbol{color:#9ece6a}.hljs-code,.hljs-formula,.hljs-section{color:#7aa2f7}.hljs-attr,.hljs-char.escape_,.hljs-keyword,.hljs-name,.hljs-operator{color:#bb9af7}.hljs-punctuation{color:#c0caf5}.hljs{background:#1a1b26;color:#9aa5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><!-- HTML_TAG_END --><!-- HEAD_svelte-l5d0hf_END --><!-- HEAD_svelte-l5d0hf_START --><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: Tokyo-night-Dark
  origin: https://github.com/enkia/tokyo-night-vscode-theme
  Description: Original highlight.js style
  Author: (c) Henri Vandersleyen <hvandersleyen@gmail.com>
  License: see project LICENSE
  Touched: 2022
*/.hljs-comment,.hljs-meta{color:#565f89}.hljs-deletion,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-tag,.hljs-template-tag,.hljs-variable.language_{color:#f7768e}.hljs-link,.hljs-literal,.hljs-number,.hljs-params,.hljs-template-variable,.hljs-type,.hljs-variable{color:#ff9e64}.hljs-attribute,.hljs-built_in{color:#e0af68}.hljs-keyword,.hljs-property,.hljs-subst,.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#7dcfff}.hljs-selector-tag{color:#73daca}.hljs-addition,.hljs-bullet,.hljs-quote,.hljs-string,.hljs-symbol{color:#9ece6a}.hljs-code,.hljs-formula,.hljs-section{color:#7aa2f7}.hljs-attr,.hljs-char.escape_,.hljs-keyword,.hljs-name,.hljs-operator{color:#bb9af7}.hljs-punctuation{color:#c0caf5}.hljs{background:#1a1b26;color:#9aa5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><!-- HTML_TAG_END --><!-- HEAD_svelte-l5d0hf_END --><!-- HEAD_svelte-l5d0hf_START --><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: Tokyo-night-Dark
  origin: https://github.com/enkia/tokyo-night-vscode-theme
  Description: Original highlight.js style
  Author: (c) Henri Vandersleyen <hvandersleyen@gmail.com>
  License: see project LICENSE
  Touched: 2022
*/.hljs-comment,.hljs-meta{color:#565f89}.hljs-deletion,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-tag,.hljs-template-tag,.hljs-variable.language_{color:#f7768e}.hljs-link,.hljs-literal,.hljs-number,.hljs-params,.hljs-template-variable,.hljs-type,.hljs-variable{color:#ff9e64}.hljs-attribute,.hljs-built_in{color:#e0af68}.hljs-keyword,.hljs-property,.hljs-subst,.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#7dcfff}.hljs-selector-tag{color:#73daca}.hljs-addition,.hljs-bullet,.hljs-quote,.hljs-string,.hljs-symbol{color:#9ece6a}.hljs-code,.hljs-formula,.hljs-section{color:#7aa2f7}.hljs-attr,.hljs-char.escape_,.hljs-keyword,.hljs-name,.hljs-operator{color:#bb9af7}.hljs-punctuation{color:#c0caf5}.hljs{background:#1a1b26;color:#9aa5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><!-- HTML_TAG_END --><!-- HEAD_svelte-l5d0hf_END --><!-- HEAD_svelte-l5d0hf_START --><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: Tokyo-night-Dark
  origin: https://github.com/enkia/tokyo-night-vscode-theme
  Description: Original highlight.js style
  Author: (c) Henri Vandersleyen <hvandersleyen@gmail.com>
  License: see project LICENSE
  Touched: 2022
*/.hljs-comment,.hljs-meta{color:#565f89}.hljs-deletion,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-tag,.hljs-template-tag,.hljs-variable.language_{color:#f7768e}.hljs-link,.hljs-literal,.hljs-number,.hljs-params,.hljs-template-variable,.hljs-type,.hljs-variable{color:#ff9e64}.hljs-attribute,.hljs-built_in{color:#e0af68}.hljs-keyword,.hljs-property,.hljs-subst,.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#7dcfff}.hljs-selector-tag{color:#73daca}.hljs-addition,.hljs-bullet,.hljs-quote,.hljs-string,.hljs-symbol{color:#9ece6a}.hljs-code,.hljs-formula,.hljs-section{color:#7aa2f7}.hljs-attr,.hljs-char.escape_,.hljs-keyword,.hljs-name,.hljs-operator{color:#bb9af7}.hljs-punctuation{color:#c0caf5}.hljs{background:#1a1b26;color:#9aa5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><!-- HTML_TAG_END --><!-- HEAD_svelte-l5d0hf_END --><!-- HEAD_svelte-l5d0hf_START --><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: Tokyo-night-Dark
  origin: https://github.com/enkia/tokyo-night-vscode-theme
  Description: Original highlight.js style
  Author: (c) Henri Vandersleyen <hvandersleyen@gmail.com>
  License: see project LICENSE
  Touched: 2022
*/.hljs-comment,.hljs-meta{color:#565f89}.hljs-deletion,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-tag,.hljs-template-tag,.hljs-variable.language_{color:#f7768e}.hljs-link,.hljs-literal,.hljs-number,.hljs-params,.hljs-template-variable,.hljs-type,.hljs-variable{color:#ff9e64}.hljs-attribute,.hljs-built_in{color:#e0af68}.hljs-keyword,.hljs-property,.hljs-subst,.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#7dcfff}.hljs-selector-tag{color:#73daca}.hljs-addition,.hljs-bullet,.hljs-quote,.hljs-string,.hljs-symbol{color:#9ece6a}.hljs-code,.hljs-formula,.hljs-section{color:#7aa2f7}.hljs-attr,.hljs-char.escape_,.hljs-keyword,.hljs-name,.hljs-operator{color:#bb9af7}.hljs-punctuation{color:#c0caf5}.hljs{background:#1a1b26;color:#9aa5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><!-- HTML_TAG_END --><!-- HEAD_svelte-l5d0hf_END --><!-- HEAD_svelte-l5d0hf_START --><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: Tokyo-night-Dark
  origin: https://github.com/enkia/tokyo-night-vscode-theme
  Description: Original highlight.js style
  Author: (c) Henri Vandersleyen <hvandersleyen@gmail.com>
  License: see project LICENSE
  Touched: 2022
*/.hljs-comment,.hljs-meta{color:#565f89}.hljs-deletion,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-tag,.hljs-template-tag,.hljs-variable.language_{color:#f7768e}.hljs-link,.hljs-literal,.hljs-number,.hljs-params,.hljs-template-variable,.hljs-type,.hljs-variable{color:#ff9e64}.hljs-attribute,.hljs-built_in{color:#e0af68}.hljs-keyword,.hljs-property,.hljs-subst,.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#7dcfff}.hljs-selector-tag{color:#73daca}.hljs-addition,.hljs-bullet,.hljs-quote,.hljs-string,.hljs-symbol{color:#9ece6a}.hljs-code,.hljs-formula,.hljs-section{color:#7aa2f7}.hljs-attr,.hljs-char.escape_,.hljs-keyword,.hljs-name,.hljs-operator{color:#bb9af7}.hljs-punctuation{color:#c0caf5}.hljs{background:#1a1b26;color:#9aa5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><!-- HTML_TAG_END --><!-- HEAD_svelte-l5d0hf_END -->
    <meta
      property="og:description"
      content="Documentation portal for various IOXIO technologies."
    />
    <meta property="og:image" content="https://docs.ioxio.dev/og-image.jpg" />
    <script src="/schema_doc.js"></script>

    <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../../favicon.svg" />
    <link rel="shortcut icon" href="../../favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="IOXIO Docs" />
    <link rel="manifest" href="../../site.webmanifest" />
  </head>
  <body data-sveltekit-preload-data="hover">
    <div style="display: contents">  <section class="svelte-1uvmp51"><header class="svelte-yofvpi"><div class="header svelte-yofvpi"><div class="title svelte-yofvpi"><button class="hamburger-button svelte-1cozhxg"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 21"><path fill="#788996" d="M3.18 15.27h12.718a.797.797 0 0 0 .794-.796.797.797 0 0 0-.794-.794H3.18a.797.797 0 0 0-.795.794c0 .438.357.795.795.795Zm0-3.975h12.718a.797.797 0 0 0 .794-.795.797.797 0 0 0-.794-.795H3.18a.797.797 0 0 0-.795.795c0 .437.357.795.795.795m-.795-4.77c0 .438.357.796.795.796h12.718a.797.797 0 0 0 .794-.795.797.797 0 0 0-.794-.795H3.18a.797.797 0 0 0-.795.795Z"/></svg> </button> <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMjUgMjMiPjxnIGZpbGw9IiNmZmYiIGNsaXAtcGF0aD0idXJsKCNhKSI+PHBhdGggZD0iTTIuMTYyLjk2OEgtLjVWMjEuNzloMi42NjJ6TTI0LjgzMyAwYTExLjE5IDExLjE5IDAgMSAwIDExLjE5IDExLjE5QTExLjIgMTEuMiAwIDAgMCAyNC44MzQgMFptMCAxOS42NTRhOC40NjcgOC40NjcgMCAxIDEgMC0xNi45MzUgOC40NjcgOC40NjcgMCAwIDEgMCAxNi45MzVNOTAuNTM0Ljk2OGgtMi42NjJWMjEuNzloMi42NjJ6TTExMy4zMTEgMGExMS4xOSAxMS4xOSAwIDAgMC0xMC4zMzkgNi45MDggMTEuMTkgMTEuMTkgMCAwIDAgOC4xNTUgMTUuMjU4IDExLjE5MiAxMS4xOTIgMCAwIDAgMTMuMzc0LTEwLjk3NkExMS4yIDExLjIgMCAwIDAgMTEzLjMxMSAwbTAgMTkuNjU0YTguNDY2IDguNDY2IDAgMCAxLTUuOTg2LTE0LjQ1NyA4LjQ2IDguNDYgMCAwIDEgOS4yMjktMS44MzMgOC40NyA4LjQ3IDAgMCAxIDUuMjI0IDcuODI3IDguNDcgOC40NyAwIDAgMS04LjQ2NyA4LjQ2M000Ni43NDcuNzI4aC00Ljg2MWwxNS4yODEgMTAuNDExLTE1LjYzMiAxMC42NTRoNC44NTdsMTMuMjA0LTguOTk2IDIuNDI4LTEuNjU4LTIuNDI4LTEuNjUzem0xNS45IDE0LjIxMyAxMC4wNiA2Ljg1M2g0LjgzNmwtMTIuNDc3LTguNTAyLTIuNDIgMS42NVpNNzcuMTkyLjcyOGgtNC44NGwtOS43MDYgNi42MTUgMi40MiAxLjY1eiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImEiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoMTI1djIyLjM3N0gweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==" alt="IOXIO" class="svelte-yofvpi"> <div class="separator svelte-yofvpi"></div> <a class="title-link svelte-yofvpi" href="/" data-svelte-h="svelte-1045bfj">Documentation portal</a></div></div> </header> <div class="main-container"><nav class="sidebar svelte-l1kp0x" style="width: 4.5rem"><div class="sticky-wrapper svelte-l1kp0x"><a href="/" class="menu-item svelte-l1kp0x"><div class="icon-wrapper svelte-l1kp0x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="#788996" d="M9.998 19.328v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87l-8.36-7.53c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87h1.7v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1"/></svg></div> <div class="name svelte-l1kp0x"></div> </a><a href="/dataspace" class="menu-item svelte-l1kp0x"><div class="icon-wrapper svelte-l1kp0x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="#788996" fill-rule="evenodd" d="m12.053 1 10.053 5.329v11.828l-10.053 5.33L2 18.157V6.33zm0 2.167L4.996 6.908l7.057 3.766 7.057-3.766zM3.915 17.005V8.502l7.18 3.832v8.478zm16.276 0-7.18 3.807v-8.478L20.19 8.5v8.504Zm-9.762-9.054 2.273 1.433.427-.22-2.276-1.437zm3.08 1.013zm0 0 .41-.212-1.418-1.898-.411.217zm2.205-1.132a2 2 0 0 0 .372-.149v.001a1.5 1.5 0 0 0 .301-.198 1 1 0 0 0 .104-.109.7.7 0 0 0 .075-.115.5.5 0 0 0 .044-.361.6.6 0 0 0-.12-.246 1 1 0 0 0-.103-.12 2 2 0 0 0-.13-.117 2.4 2.4 0 0 0-.72-.377 2.8 2.8 0 0 0-.626-.121 2.3 2.3 0 0 0-.63.037 2 2 0 0 0-.736.298 1 1 0 0 0-.133.104 1 1 0 0 0-.103.11.7.7 0 0 0-.115.239.5.5 0 0 0 .006.244.6.6 0 0 0 .048.125 1 1 0 0 0 .182.243q.135.128.294.227a2.3 2.3 0 0 0 .557.261q.301.095.616.115.102.005.206.003.312-.006.611-.094m.102-.445a1 1 0 0 1-.102.06l-.004.001a1.3 1.3 0 0 1-.491.14q-.068.008-.134.006a1.7 1.7 0 0 1-.802-.205 2 2 0 0 1-.235-.15 1 1 0 0 1-.17-.162.6.6 0 0 1-.094-.168.4.4 0 0 1-.018-.163.4.4 0 0 1 .063-.154.5.5 0 0 1 .144-.137q.157-.104.339-.155a1.3 1.3 0 0 1 .4-.05 2 2 0 0 1 .418.056c.231.059.448.164.636.308a1 1 0 0 1 .167.162.6.6 0 0 1 .09.165.33.33 0 0 1-.015.237.4.4 0 0 1-.108.144 1 1 0 0 1-.084.065" clip-rule="evenodd"/></svg></div> <div class="name svelte-l1kp0x"></div> </a><a href="/tags" class="menu-item svelte-l1kp0x"><div class="icon-wrapper svelte-l1kp0x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><g fill="#788996" clip-path="url(#a)"><path fill-rule="evenodd" d="M4.8 5.829c0-.569.46-1.029 1.028-1.029h3.086c.568 0 1.029.46 1.029 1.029v3.085c0 .568-.46 1.029-1.029 1.029H5.828c-.568 0-1.028-.46-1.028-1.029V5.83Zm2.057 2.057V6.857h1.029v1.029zm-2.057 7.2c0-.568.46-1.029 1.028-1.029h3.086c.568 0 1.029.46 1.029 1.029v3.085c0 .569-.46 1.029-1.029 1.029H5.828c-.568 0-1.028-.46-1.028-1.029zm2.057 2.057v-1.029h1.029v1.029zM15.085 4.8c-.568 0-1.028.46-1.028 1.029v3.085c0 .568.46 1.029 1.028 1.029h3.086c.568 0 1.029-.46 1.029-1.029V5.83c0-.569-.46-1.029-1.029-1.029h-3.085Zm1.03 2.057v1.029h1.028V6.857z" clip-rule="evenodd"/><path d="M13.028 5.829a1.029 1.029 0 1 0-2.057 0v1.028a1.029 1.029 0 0 0 2.057 0V5.83ZM12 8.914c.568 0 1.028.46 1.028 1.029v1.028h2.057a1.029 1.029 0 1 1 0 2.058H12c-.568 0-1.029-.46-1.029-1.029V9.943c0-.568.46-1.029 1.029-1.029m6.171 2.057a1.029 1.029 0 1 0 0 2.058 1.029 1.029 0 0 0 0-2.058m-7.2 4.115c0-.568.46-1.029 1.029-1.029h1.028a1.029 1.029 0 0 1 0 2.057v2.057a1.029 1.029 0 1 1-2.057 0zm-2.057-2.057a1.029 1.029 0 0 0 0-2.058H5.828a1.029 1.029 0 1 0 0 2.058zM19.2 15.086c0 .568-.46 1.028-1.029 1.028h-2.057a1.029 1.029 0 1 1 0-2.057h2.057c.568 0 1.029.46 1.029 1.029M18.171 19.2a1.029 1.029 0 1 0 0-2.057h-3.085a1.029 1.029 0 0 0 0 2.057z"/><path stroke="#788996" stroke-width=".4" d="M19.248 22.732c0 .148.12.268.268.268h1.93c.858 0 1.554-.696 1.554-1.554V19.55a.268.268 0 1 0-.535 0v1.896c0 .563-.456 1.019-1.019 1.019h-1.93a.27.27 0 0 0-.267.267Zm0-21.464c0 .148.12.267.268.267h1.93a1.02 1.02 0 0 1 1.019 1.02v1.963a.268.268 0 1 0 .535 0V2.554C23 1.696 22.304 1 21.446 1h-1.93a.27.27 0 0 0-.267.268Zm-14.496 0A.27.27 0 0 0 4.484 1h-1.93C1.696 1 1 1.696 1 2.554v1.964a.268.268 0 1 0 .536 0V2.554a1.02 1.02 0 0 1 1.018-1.019h1.93c.148 0 .268-.12.268-.267Zm0 21.464a.27.27 0 0 0-.268-.267h-1.93a1.02 1.02 0 0 1-1.018-1.02V19.55a.268.268 0 1 0-.536 0v1.896C1 22.304 1.696 23 2.554 23h1.93c.148 0 .268-.12.268-.268Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h24v24H0z"/></clipPath></defs></svg></div> <div class="name svelte-l1kp0x"></div> </a><a href="/guides" class="menu-item svelte-l1kp0x selected"><div class="icon-wrapper svelte-l1kp0x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="#788996" d="M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"/><path fill="#788996" d="M14 17H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"/></svg></div> <div class="name svelte-l1kp0x"></div> </a><a href="/schemas" class="menu-item svelte-l1kp0x"><div class="icon-wrapper svelte-l1kp0x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="#788996" d="M3.6 4.8a1.2 1.2 0 0 1 1.2-1.2h14.4a1.2 1.2 0 0 1 1.2 1.2v2.4a1.2 1.2 0 0 1-1.2 1.2H4.8a1.2 1.2 0 0 1-1.2-1.2zm0 7.2a1.2 1.2 0 0 1 1.2-1.2H12a1.2 1.2 0 0 1 1.2 1.2v7.2a1.2 1.2 0 0 1-1.2 1.2H4.8a1.2 1.2 0 0 1-1.2-1.2zm13.2-1.2a1.2 1.2 0 0 0-1.2 1.2v7.2a1.2 1.2 0 0 0 1.2 1.2h2.4a1.2 1.2 0 0 0 1.2-1.2V12a1.2 1.2 0 0 0-1.2-1.2z"/></svg></div> <div class="name svelte-l1kp0x"></div> </a><a href="/faq" class="menu-item svelte-l1kp0x"><div class="icon-wrapper svelte-l1kp0x"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="#788996" fill-rule="evenodd" d="M11.402 3.16 4.666 7.13A1.22 1.22 0 0 0 4 8.217v7.284a1.23 1.23 0 0 0 .638 1.072q.027.014.055.032l6.72 4.251a1.27 1.27 0 0 0 1.174 0l6.72-4.251.053-.031c.399-.22.64-.63.64-1.072v-7.29a1.23 1.23 0 0 0-.62-1.073 1 1 0 0 1-.162-.115L12.664 3.16a1.33 1.33 0 0 0-1.262 0m9.187 2.377a1 1 0 0 0-.173-.128l-6.75-3.98a3.33 3.33 0 0 0-3.266 0L3.662 5.402A3.22 3.22 0 0 0 2 8.217v7.287a3.23 3.23 0 0 0 1.648 2.807l6.725 4.254.054.032a3.27 3.27 0 0 0 3.2-.032l6.726-4.255A3.22 3.22 0 0 0 22 15.502V8.221a3.23 3.23 0 0 0-1.411-2.684m-9.162 2.521a3 3 0 1 1 .57 5.942 1 1 0 1 1 .006-2 1 1 0 0 0 .457-1.891l-.002-.001a.98.98 0 0 0-1.195.24 1 1 0 0 1-1.526-1.293 2.98 2.98 0 0 1 1.69-.997M12 15a1 1 0 0 1 1 1v.01a1 1 0 1 1-2 0V16a1 1 0 0 1 1-1" clip-rule="evenodd"/></svg></div> <div class="name svelte-l1kp0x"></div> </a></div> </nav> <div class="second-level-navigation-wrapper"><div class="second-level-navigation svelte-1uvmp51"><div class="section-title svelte-1uvmp51">Guides</div> <a class=" svelte-8d18wx" href="/guides/building-a-data-source">Building a data source  </a><a class=" svelte-8d18wx" href="/guides/building-a-data-definition">How to create data definitions  </a><a class=" svelte-8d18wx" href="/guides/managing-groups">How to create and manage a group  </a><a class=" svelte-8d18wx" href="/guides/managing-group-members">How to manage group members  </a><a class=" svelte-8d18wx" href="/guides/verifying-api-tokens">Verifying API tokens  </a><a class=" svelte-8d18wx" href="/guides/using-data-sources">Using data sources  </a><a class=" svelte-8d18wx" href="/guides/error-responses">Error responses  </a><a class=" svelte-8d18wx" href="/guides/party-configuration">Setting up a party configuration domain  </a><a class=" svelte-8d18wx" href="/guides/building-an-application">Legacy: Building an application  </a><a class=" svelte-8d18wx" href="/guides/verifying-consent-in-data-source">Legacy: How to verify consent in data source  </a><a class=" svelte-8d18wx" href="/guides/using-login-provider">Legacy: How to use dataspace login in an application  </a><a class=" svelte-8d18wx" href="/guides/verifying-id-token">Legacy: Verify id_token in data source  </a></div></div> <div class="container main-container svelte-3muwzk">    <div class="main-grid mdc-layout-grid"><div class="mdc-layout-grid__inner">  <div class="content-grid mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">  <div class="main-grid mdc-layout-grid"><div class="mdc-layout-grid__inner">    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-9-desktop mdc-layout-grid__cell--span-9-tablet mdc-layout-grid__cell--span-9-phone"> <h1>Legacy: How to verify consent in data source</h1> <div class="breadcrumbs"><span class="breadcrumb"><a class=" svelte-8d18wx" href="/">Docs </a></span> <span class="sep svelte-16gl9f1" data-svelte-h="svelte-1ofwb3u">/</span><span class="breadcrumb"><a class=" svelte-8d18wx" href="/guides">Guides </a></span> <span class="sep svelte-16gl9f1" data-svelte-h="svelte-1ofwb3u">/</span><span class="breadcrumb"><a class=" svelte-8d18wx" href="/guides/verifying-consent-in-data-source">Legacy: How to verify consent in data source </a></span> <span class="sep svelte-16gl9f1" data-svelte-h="svelte-1ofwb3u">/</span> </div> <h2 id="introduction" class="svelte-j11k8l"><a href="#introduction" class="svelte-j11k8l">Introduction <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <p data-svelte-h="svelte-o5e9mp">An application registered on the dataspace can request consents from a user to access the data
    from data sources which require user consent. If the user grants the consent the application can
    request a consent token and include it in the <em>X-Consent-Token</em> header when making the request
    to the product gateway. The product gateway will forward the header to the productizer. This guide
    explains how the productizer should verify the token if it wants to ensure the user has given their
    consent.</p> <p>The <a class=" svelte-8d18wx" href="/schemas/consent-token/">consent token </a>
    is a
    <a class=" svelte-8d18wx" href="https://datatracker.ietf.org/doc/html/rfc7519" target="_blank" rel="noreferrer">JSON Web Token (JWT) </a>
    that can be decoded and verified. This guide will explain in more detail the process of extracting,
    decoding and verifying it.</p> <p>For more details on how to request a consent and obtaining a consent token, check out the
    <a class=" svelte-8d18wx" href="/guides/building-an-application#using-consent">Using Consent </a>
    section of the
    <a class=" svelte-8d18wx" href="/guides/building-an-application">Legacy: Building an application </a> guide.</p> <h2 id="verifying-the-consent-token-in-the-productizer" class="svelte-j11k8l"><a href="#verifying-the-consent-token-in-the-productizer" class="svelte-j11k8l">Verifying the consent token in the productizer <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <h3 data-svelte-h="svelte-1fl70qp">Get the X-Consent-Token header</h3> <p data-svelte-h="svelte-b5q84z">The productizer or data source needs to first extract the consent token from the
    <em>X-Consent-Token</em> HTTP header of the request. Please note that the header is in many data
    source definitions optional, so take that into account.</p> <h3 data-svelte-h="svelte-85c0ge">Reading the consent token</h3> <p>The <a class=" svelte-8d18wx" href="/schemas/consent-token/">consent token </a>
    is a
    <a class=" svelte-8d18wx" href="https://datatracker.ietf.org/doc/html/rfc7519" target="_blank" rel="noreferrer">JSON Web Token (JWT) </a>.</p> <p>If you are unfamiliar with JWTs you might want to check out the
    <a class=" svelte-8d18wx" href="https://jwt.io/introduction" target="_blank" rel="noreferrer">JSON Web Token Introduction </a>. The same site has a
    really good tool for decoding JWTs directly in the web browser at
    <a class=" svelte-8d18wx" href="https://jwt.io" target="_blank" rel="noreferrer">jwt.io </a>, as well as a fairly good list of different
    <a class=" svelte-8d18wx" href="https://jwt.io/libraries" target="_blank" rel="noreferrer">JWT libraries </a> for different programming languages.</p> <p>You most likely want to use one of the libraries for your programming language rather than try
    to implement it according to the <a class=" svelte-8d18wx" href="https://datatracker.ietf.org/doc/html/rfc7519" target="_blank" rel="noreferrer">RFC 7519 </a>.</p> <p data-svelte-h="svelte-1yri31c">Let&#39;s have a look at a valid example token from one of the applications on the IOXIO Sandbox
    Dataspace and how to verify it.</p> <p data-svelte-h="svelte-g8urh1">Let&#39;s examine this token:</p>  <article class="svelte-1k2uy7z"><div aria-hidden="true" class="code svelte-1k2uy7z">
eyJhbGciOiJSUzI1NiIsImprdSI6Imh0dHBzOi8vY29uc2VudC5zYW5kYm94LmlveGlvLWRhdGFzcGFjZS5jb20vLndlbGwta25vd24vandrcy5qc29uIiwia2lkIjoiZTE4Nzg1YTdlMTBlMWJkOGI4M2YzN2JkNGJlMmMwZTciLCJ0aWQiOiIxNjQwOGI2Yy0wNjdjLTQ1OWQtYWZlYi1lNWQ3NTI4MTE1Y2UiLCJ0eXAiOiJKV1QiLCJ2IjoiMC4yIn0.eyJzdWIiOiJaR1Z0YjBCMFpYTjBaWEl1YVc5NGFXOHVZMjl0IiwiaXNzIjoiaHR0cHM6Ly9jb25zZW50LnNhbmRib3guaW94aW8tZGF0YXNwYWNlLmNvbSIsImlhdCI6MTcwNDcxMDE3MSwiZXhwIjoxNzA0NzEzNzcxLCJkc2kiOiJkcHA6Ly9pb3hpb0BzYW5kYm94LmlveGlvLWRhdGFzcGFjZS5jb20vTlNHL0FnZW50L0xlZ2FsRW50aXR5L05vbkxpc3RlZENvbXBhbnkvU2lnbmF0b3J5UmlnaHRzX3YxLjAiLCJhcHAiOiI4M2Q1NTEyNi1lNjE3LTQzZGMtYTJmZi00M2ZiZWI4NDhjZDEiLCJhcHBpc3MiOiJodHRwczovL2xvZ2luLnNhbmRib3guaW94aW8tZGF0YXNwYWNlLmNvbSIsInN1YmlzcyI6Imh0dHBzOi8vbG9naW4uc2FuZGJveC5pb3hpby1kYXRhc3BhY2UuY29tIiwiYWNyIjoiZmFrZS1hdXRoIn0.FhYxFiOt4pZFvJpoiXwr6Crt7Nko7OBIh_b8tyIX6YodHoZHsBIXug5WG5J1OEakTMZcaFgINswL98tNm-E7VELQa722x3KW8xI2VpFf05Zd2s4vwByzpWztj_J0eUviL8Xowu8kmzkbF44IzH1J4FGP6ZwAGRzD6hnIzlObeieefba4aJLkcmQL9cguHDV6A07R4IuOgQTdIUGjYIkmPYuV1s81KpsJ4SQkXzeFQBHWvB50Fi1-GZe0B5CZuX0TSa7jshm12C8bMM1AA52cjdVyZMhx9vyYSpBeQ6BcBG41kBapNtwW5svDlzk_-EmPoWB57f_B-Py9Nhipb3FL6b3ElBLxs1tWyaWW2bMBBdlbGmWabW8w6KlL336RSzix-JdikmywJH3xkzNBQiqs9Uk-5om7RrCKiOkd4Em7NFh7s418aRd8g7n4G6FkXzrWn3jcPCQDTIUrTYRv4uUyJ4NHT6qvfogh21Et_q3E9VfVKFlQ8bZn3Fl7N2HtQ8C3RImkjDq21k0Kz5wBqA6eZDq9HqGejhYE_TyST_EAlExw43VPjAYw0elE_i6OrphzdPE63BtF1ieSbP-O-RcN2PuNiHyGjeFh5PWYOOmyhn7goVrC42j1DEjd0jYTVRmqXKWthZOC3BLQ5zkKJsX1psLeiGUIf6YztP4mcpDitMY

</div>  </article> <p>At the time you are reading this guide the token will, unfortunately, have expired, so some of
    the verifications we will perform here won&#39;t work. If you need a valid token, you can follow the
    steps in the <a class=" svelte-8d18wx" href="/guides/building-an-application#using-consent">Using Consent </a> section of the
    <a class=" svelte-8d18wx" href="/guides/building-an-application">Legacy: Building an application </a> guide to set up your own application
    and request a consent token following the cURL examples in that guide. If you&#39;re familiar with developer
    tools in your browser you can also go to the
    <a class=" svelte-8d18wx" href="https://mycompany.demos.ioxio.com/my-company/company/0522908-2/board" target="_blank" rel="noreferrer">board page of one of the companies in the MyCompany Demo App </a> and extract the consent token from the Local Storage of your browser.</p> <p data-svelte-h="svelte-fjyiw9">This is what the content of the above token looks like:</p> <img class=" svelte-cvqycj" src="/guides/verifying-consent-in-data-source/decoded_consent_token.png" alt="Decoded consent token"> <p data-svelte-h="svelte-1f6w5y9">Many JWT libraries also allow you to read the JWT without verifying it. In case your library for
    some reason does not do that, you can actually note that the token consists of three sections
    separated by a dot, like <em>AAA.BBB.CCC</em>. The first section (<em>AAA</em>) is the header,
    the second one (<em>BBB</em>) the body and the last one (<em>CCC</em>) the signature. The first
    two are actually just Base64 encoded JSON strings that can be easily decoded and read, without
    verifying the signature.</p> <h2 id="find-the-jwks-uri" class="svelte-j11k8l"><a href="#find-the-jwks-uri" class="svelte-j11k8l">Find the JWKS URI <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <p data-svelte-h="svelte-193qgyu">The first step to find the key is to check the issuer of the token, which is found in the
    <em>iss</em> field in the body.</p> <p data-svelte-h="svelte-2fpgwu">Please note that you should check that the <em>iss</em> is one you want to trust. In a typical IOXIO
    dataspace this would always be the address of the consent provider of the dataspace.</p> <p>In this example the <em data-svelte-h="svelte-1tsrox1">iss</em> (Issuer) is
    <em data-svelte-h="svelte-14wfska">https://consent.sandbox.ioxio-dataspace.com</em>, which is the consent provider of the
    sandbox dataspace. The consent provider has a
    <a class=" svelte-8d18wx" href="/schemas/consent-configuration/">consent configuration </a> in a well-known path (inspired
    by the OpenID Connect configuration). The configuration for a consent provider can be found in the
    path <em data-svelte-h="svelte-195w7ya">/.well-known/dataspace/consent-configuration.json</em>
    relative to the <em data-svelte-h="svelte-1tsrox1">iss</em>. Thus in this case the consent provider configuration can be
    fetched from
    <a class=" svelte-8d18wx" href="https://consent.sandbox.ioxio-dataspace.com/.well-known/dataspace/consent-configuration.json" target="_blank" rel="noreferrer">https://consent.sandbox.ioxio-dataspace.com/.well-known/dataspace/consent-configuration.json </a>. At the time of writing this it returned this JSON content (formatted for readability):</p>  <article class="svelte-1k2uy7z"><div aria-hidden="true" class="code svelte-1k2uy7z">
{
  "issuer": "https://consent.sandbox.ioxio-dataspace.com",
  "jwks_uri": "https://consent.sandbox.ioxio-dataspace.com/.well-known/jwks.json",
  "consent_request_uri": "https://consent.sandbox.ioxio-dataspace.com/Consent/RequestConsents"
}
  </div>  </article> <p data-svelte-h="svelte-ohf6qu">The <em>jwks_uri</em> specify where we can find the keys of this consent provider.</p> <p>For convenience the JWT token also contains the <em data-svelte-h="svelte-cfznec">jku</em> (JSON Web Key Set URL) header with
    the same value. This is what for example <a class=" svelte-8d18wx" href="https://jwt.io" target="_blank" rel="noreferrer">jwt.io </a> uses to fetch the key
    to verify the signature of the token.</p> <p data-svelte-h="svelte-f570y">Please note that you should validate the <em>iss</em> or <em>jku</em> match what you expect to find
    on the dataspace you are working on before fetching keys to ensure they are indeed keys that should
    be trusted on the particular dataspace.</p> <h2 id="find-the-key" class="svelte-j11k8l"><a href="#find-the-key" class="svelte-j11k8l">Find the key <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <p>At the time of writing this, the <em data-svelte-h="svelte-1dggqs6">jwks_uri</em> <a class=" svelte-8d18wx" href="https://consent.sandbox.ioxio-dataspace.com/.well-known/jwks.json" target="_blank" rel="noreferrer">https://consent.sandbox.ioxio-dataspace.com/.well-known/jwks.json </a>
    returned this JSON content (formatted for readability):</p>  <article class="svelte-1k2uy7z"><div aria-hidden="true" class="code svelte-1k2uy7z">
{
  "keys": [
    {
      "kid": "e18785a7e10e1bd8b83f37bd4be2c0e7",
      "kty": "RSA",
      "use": "sig",
      "alg": "RS256",
      "n": "0FqQHSRgUzu9WwyUnl4FiXADIDptF82eUn1IeOFWt-ZHVzzddsZjT_F7YOZsgVyF9QRc1ROqqnvEs7J90fBQG8nMAml1R56lZdruqqyQ8kAQjqplhi4CAU6NZrzBWybCkZVq6PSvgtHJWSMCcU-09g24Q3GLWvW-gqAh4sZMjf1l45MASjgaYYozaZv1HgeG-dmFOsngafNQue8DGt97UxdqtP3rsjqdKaXR9iPIxcgJNhAQrqTorCiKp_CXUatsHgFD6ANxfgu6iSmBPbgmGi6AhPuAalWTi5BcSWEgawnq_kYopnHH7ymgVjV-6eNmdpyHZ-qaK2k-YB1ydvbdZfbmjl-ybN7YZ5QlXuOnLNHE4eqA1Z5yk0M4eL8smDpH4Mh6dataXxZxp5QkBV9iS7WPHLvWwiOQrOjL0REQ0bSz5d6nfQdjp0wVWQZH0GPQUOwVfqXcMODZAdG1X8d6VhgjG3oTYgDyovCWoG1CJEokLMXrSa-o0Hw_TVgYFbPhwDsxl7KvJDD6cid1sWiYY67isuWWHG7q_QLoG1gTVXIE5ycVzSqVED_bOzxKmorrj4G-XoDyx36mK1O5ROVktJ6dZ7nLJGsWRTzPjXWXMG639snzIClG9momA1fpc6f2vyQsjY-9Gel2toxeQite0hTmUn9-vfWi3mnqFlr-ZaU",
      "e": "AQAB"
    }
  ]
}
  </div>  </article> <p>Use the key entry with a
    <em data-svelte-h="svelte-6cm7u2">kid</em> (Key ID) and <em data-svelte-h="svelte-ohz2o8">alg</em> (Algorithm) matching the values in the consent token and
    has the <em data-svelte-h="svelte-1ltck1j">use</em> set to <em data-svelte-h="svelte-jgnovp">sig</em> (signing). You can read more about JWKS in
    <a class=" svelte-8d18wx" href="https://datatracker.ietf.org/doc/html/rfc7517" target="_blank" rel="noreferrer">RFC 7517: JSON Web Key (JWK) </a>.</p> <p>Some JWT libraries, like
    <a class=" svelte-8d18wx" href="https://pyjwt.readthedocs.io/" target="_blank" rel="noreferrer">PyJWT </a> has built in support for
    <a class=" svelte-8d18wx" href="https://pyjwt.readthedocs.io/en/stable/usage.html#retrieve-rsa-signing-keys-from-a-jwks-endpoint" target="_blank" rel="noreferrer">retrieving the keys from a JWKS endpoint </a>, thus it&#39;s worth checking if the library you are using has support for that before
    implementing it yourself.</p> <h2 id="caching" class="svelte-j11k8l"><a href="#caching" class="svelte-j11k8l">Caching <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <p data-svelte-h="svelte-yci1ef">Please note that for performance reasons you should use some level of caching. The address of
    the <em>jwks_uri</em> is for example not likely to change in practice. The keys are neither rotated
    frequently, so they could be cached for some time, but it&#39;s still important they get refreshed once
    in a while.</p> <h2 id="verifying-token-signature" class="svelte-j11k8l"><a href="#verifying-token-signature" class="svelte-j11k8l">Verifying token signature <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <p data-svelte-h="svelte-g5pvaj">Once you&#39;ve found the matching key (unless your library does that for you), you will need to
    consult the documentation of your particular JWT library on how to use it to verify the token.
    This varies a bit by library. In some case you might even need to convert the key to some other
    format accepted by the library. Covering all these possibilities is however not possible in this
    guide, but that information can hopefully be found from other sources using the most popular
    search engines.</p> <h2 id="verifying-the-fields" class="svelte-j11k8l"><a href="#verifying-the-fields" class="svelte-j11k8l">Verifying the fields <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <p data-svelte-h="svelte-nwg2jn">After verifying the signature, you should do some basic verification of some of the typical
    fields. Many libraries by default verify the <em>iat</em> (Issued At) and <em>exp</em>
    (Expiration Time), but some do not automatically do it. In that case you should verify that
    <em>iat</em>
    &lt;= current time &lt;= <em>exp</em>. You might also want to check the <em>iss</em>
    (Issuer) matches what you expect (the consent provider of the dataspace), but this would be good
    to check already before fetching the keys.</p> <p data-svelte-h="svelte-us4gu4">Also verify the <em>dsi</em> field. It contains a Data Product Protocol link of the form
    <em>dpp://&lt;source&gt;@&lt;dataspace-domain&gt;/&lt;definition&gt;</em>, which means you will
    have to parse it and check it against the data source you are implementing. For example
    <em>dpp://ioxio@sandbox.ioxio-dataspace.com/NSG/Agent/LegalEntity/NonListedCompany/SignatoryRights_v1.0</em>
    would match a data source with the group <em>ioxio</em> for the
    <em>NSG/Agent/LegalEntity/NonListedCompany/SignatoryRights_v1.0</em>
    definition on the <em>sandbox.ioxio-dataspace.com</em> dataspace. Ensure all of these match with
    the data source you want to provide.</p> <p data-svelte-h="svelte-1eyf7iz">You should verify the
    <em>sub</em> (the subject from the id_token that granted the consent) and <em>subiss</em> (the
    issuer of the id_token that was used to give the consent, typically the login portal) as well as
    the <em>acr</em> (authentication context class reference), to ensure which user actually gave the
    consent.</p> <p>If your data source also requires authorization, you should also see
    <a class=" svelte-8d18wx" href="/guides/verifying-id-token">Legacy: Verify id_token in data source </a>. Check the
    <em data-svelte-h="svelte-w91li0">sub</em> of both tokens match and ensure the <em data-svelte-h="svelte-1geqtnb">app</em> in the consent token matches the
    <em data-svelte-h="svelte-4k3ulc">aud</em>
    of the id_token and the <em data-svelte-h="svelte-11p1zzx">subiss</em> in the consent token matches the <em data-svelte-h="svelte-1tsrox1">iss</em> in the id_token.</p> <h2 id="using-the-token" class="svelte-j11k8l"><a href="#using-the-token" class="svelte-j11k8l">Using the token <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <p data-svelte-h="svelte-vbv5lf">Once you&#39;ve done all the verifications you know which user (<em>sub</em>+<em>subiss</em>+
    <em>acr</em>) gave the consent to request the data through which application (<em>app</em>+
    <em>appiss</em>) and to which data source (<em>dsi</em>). Verify these match with what you want
    to provide and what the user has permission to request and return the requested data.</p> <h2 id="verifying-consent-through-api" class="svelte-j11k8l"><a href="#verifying-consent-through-api" class="svelte-j11k8l">Verifying consent through API <span class="marker svelte-j11k8l" data-svelte-h="svelte-1vcokm2">§</span></a></h2> <p data-svelte-h="svelte-xbouoz">The consent portal also provides an API endpoint for verifying the consent token if you don&#39;t
    want to fetch the keys yourself. The endpoint is located at the path
    <em>/Consent/Verify</em> of the consent portal, so for example on the sandbox dataspace the URL
    is <em>https://consent.sandbox.ioxio-dataspace.com/Consent/Verify</em>. It&#39;s expecting a
    <em>POST</em>
    request with the <em>Authorization: Bearer &lt;token&gt;</em> and the
    <em>X-Consent-Token &lt;consent token&gt;</em>
    headers. The body is expected to be in JSON format (<em>Content-Type: application/json</em>) and
    contain a body of the form:</p>  <article class="svelte-1k2uy7z"><div aria-hidden="true" class="code svelte-1k2uy7z">{"dataSource": "dpp://{source}@{dataspace-domain}/{definition}"}</div>  </article> <p data-svelte-h="svelte-1cthmfz">Make sure you replace the source with the name of your own data source (group + optional variant
    separated by a colon), specify the dataspace domain and the definition your datasource is using.
    Here is what the request would look like as a cURL command with the respective tokens shortened
    down for readability:</p>  <article class="svelte-1k2uy7z"><div aria-hidden="true" class="code svelte-1k2uy7z">
curl --request POST \
  --url 'https://consent.sandbox.ioxio-dataspace.com/Consent/Verify' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Bearer eyJ...' \
  --header 'X-Consent-Token: eyJ...' \
  --data '{
            "dataSource": "dpp://ioxio@sandbox.ioxio-dataspace.com/NSG/Agent/LegalEntity/NonListedCompany/SignatoryRights_v1.0"
          }'
  </div>  </article> <p data-svelte-h="svelte-1sec7f4">You will get back a response indicating if the tokens passed the verification or not, in case of
    a success:</p>  <article class="svelte-1k2uy7z"><div aria-hidden="true" class="code svelte-1k2uy7z">
{"verified": true}
  </div>  </article> <p data-svelte-h="svelte-zxa3k3">And in case of failure:</p>  <article class="svelte-1k2uy7z"><div aria-hidden="true" class="code svelte-1k2uy7z">
{"verified": false}
  </div>  </article> <p data-svelte-h="svelte-136m4bb">If you want to know who the user is (in case the data you return is depending on the user, which
    is quite common) you will need to decode the consent token to extract the user details (
    <em>sub+subiss+acr</em>) from it. But since the tokens have already been verified you can decode
    them without any verification.</p> </div>   <div class="table-of-contents mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-2-tablet mdc-layout-grid__cell--span-2-phone"><div class="content svelte-1s2weei"><p class="svelte-1s2weei" data-svelte-h="svelte-x2ko2u">On this page</p> </div> </div> </div> </div> </div> </div> </div> </div></div> <footer class="svelte-earpbm"><div class="top-section-wrapper svelte-earpbm"><div class="container  svelte-3muwzk">  <div class="footer-container mdc-layout-grid"><div class="mdc-layout-grid__inner">  <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1-desktop mdc-layout-grid__cell--span-0-tablet mdc-layout-grid__cell--span-0-phone"> </div>   <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-6-tablet mdc-layout-grid__cell--span-12-phone"><div class="try-out-section svelte-earpbm"><h3 data-svelte-h="svelte-25mv77">Try out our technologies for free on</h3> <a class="icon-link svelte-8d18wx" href="https://sandbox.ioxio-dataspace.com" target="_blank" rel="noreferrer"><span class="svelte-ww9r9u">IOXIO Dataspace™ Sandbox</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" fill="none"><path fill="#3CB08E" d="m12 4.928-1.41 1.41 5.58 5.59H4v2h12.17l-5.58 5.59 1.41 1.41 8-8z"/></svg> </a></div> </div>   <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-5-desktop mdc-layout-grid__cell--span-0-tablet mdc-layout-grid__cell--span-0-phone"> </div> </div> </div> </div></div> <div class="bottom-section-wrapper svelte-earpbm"><div class="container  svelte-3muwzk">  <div class="mdc-layout-grid"><div class="mdc-layout-grid__inner">  <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1-desktop mdc-layout-grid__cell--span-0-tablet mdc-layout-grid__cell--span-0-phone"> </div>   <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-8-desktop mdc-layout-grid__cell--span-9-tablet mdc-layout-grid__cell--span-12-phone"><div class="contact-us-wrapper svelte-earpbm"><h3 data-svelte-h="svelte-1r083he">Contact us by using the available support options</h3> <div class="contact-us-buttons svelte-earpbm"><div class="button-wrapper svelte-j0pf02"><a class="button svelte-8d18wx" href="https://slack.ioxio.com" target="_blank" rel="noreferrer"><span>Slack</span> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><g clip-path="url(#a)"><path fill="#E91E63" d="M7.574 10.12a2.017 2.017 0 0 0-2.016 2.018v5.045a2.017 2.017 0 0 0 4.033 0v-5.045a2.02 2.02 0 0 0-2.017-2.017ZM.515 12.137a2.019 2.019 0 0 0 4.037 0V10.12H2.534a2.02 2.02 0 0 0-2.019 2.018Z"/><path fill="#00BCD4" d="M7.577 0h-.002a2.019 2.019 0 0 0 0 4.036H9.59V2.014A2.015 2.015 0 0 0 7.577-.001ZM2.52 9.096h5.054a2.019 2.019 0 0 0 0-4.037H2.52a2.019 2.019 0 0 0 0 4.037"/><path fill="#4CAF50" d="M17.666 5.058a2.014 2.014 0 0 0-2.015 2.015v2.022h2.017a2.019 2.019 0 0 0 0-4.037zm-7.053-3.04v5.06a2.017 2.017 0 0 0 4.033 0v-5.06a2.017 2.017 0 0 0-4.033 0"/><path fill="#FF9800" d="M14.645 17.18a2.017 2.017 0 0 0-2.016-2.016h-2.017v2.019a2.017 2.017 0 0 0 4.033-.002Zm3.038-7.06H12.63a2.019 2.019 0 0 0 0 4.036h5.054a2.019 2.019 0 0 0 0-4.037Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M.5 0h19.2v19.2H.5z"/></clipPath></defs></svg> </a></div> <div class="button-wrapper svelte-j0pf02"><a class="button monochrome svelte-8d18wx" href="mailto:support@ioxio.com" target="_blank" rel="noreferrer"><span>Email</span> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><g fill="#EEEFEC" clip-path="url(#a)"><path d="M19.731 3.814 13.908 9.6l5.823 5.785c.105-.22.17-.463.17-.723V4.537c0-.26-.065-.503-.17-.723m-1.519-.964H2.388c-.26 0-.503.064-.723.17l7.442 7.404a1.69 1.69 0 0 0 2.386 0l7.443-7.405a1.7 1.7 0 0 0-.724-.169M.87 3.814a1.66 1.66 0 0 0-.17.723v10.125c0 .26.064.503.17.723L6.691 9.6z"/><path d="m13.113 10.396-.824.823a2.815 2.815 0 0 1-3.978 0l-.823-.823-5.823 5.785c.22.105.463.17.723.17h15.825c.26 0 .502-.065.723-.17z"/></g><defs><clipPath id="a"><path fill="#fff" d="M.7 0h19.2v19.2H.7z"/></clipPath></defs></svg> </a></div></div></div> </div>   <div class="ioxio-logo-grid-item mdc-layout-grid__cell mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-12-phone"><img class="ioxio-logo svelte-earpbm" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMjUgMjMiPjxnIGZpbGw9IiNmZmYiIGNsaXAtcGF0aD0idXJsKCNhKSI+PHBhdGggZD0iTTIuMTYyLjk2OEgtLjVWMjEuNzloMi42NjJ6TTI0LjgzMyAwYTExLjE5IDExLjE5IDAgMSAwIDExLjE5IDExLjE5QTExLjIgMTEuMiAwIDAgMCAyNC44MzQgMFptMCAxOS42NTRhOC40NjcgOC40NjcgMCAxIDEgMC0xNi45MzUgOC40NjcgOC40NjcgMCAwIDEgMCAxNi45MzVNOTAuNTM0Ljk2OGgtMi42NjJWMjEuNzloMi42NjJ6TTExMy4zMTEgMGExMS4xOSAxMS4xOSAwIDAgMC0xMC4zMzkgNi45MDggMTEuMTkgMTEuMTkgMCAwIDAgOC4xNTUgMTUuMjU4IDExLjE5MiAxMS4xOTIgMCAwIDAgMTMuMzc0LTEwLjk3NkExMS4yIDExLjIgMCAwIDAgMTEzLjMxMSAwbTAgMTkuNjU0YTguNDY2IDguNDY2IDAgMCAxLTUuOTg2LTE0LjQ1NyA4LjQ2IDguNDYgMCAwIDEgOS4yMjktMS44MzMgOC40NyA4LjQ3IDAgMCAxIDUuMjI0IDcuODI3IDguNDcgOC40NyAwIDAgMS04LjQ2NyA4LjQ2M000Ni43NDcuNzI4aC00Ljg2MWwxNS4yODEgMTAuNDExLTE1LjYzMiAxMC42NTRoNC44NTdsMTMuMjA0LTguOTk2IDIuNDI4LTEuNjU4LTIuNDI4LTEuNjUzem0xNS45IDE0LjIxMyAxMC4wNiA2Ljg1M2g0LjgzNmwtMTIuNDc3LTguNTAyLTIuNDIgMS42NVpNNzcuMTkyLjcyOGgtNC44NGwtOS43MDYgNi42MTUgMi40MiAxLjY1eiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImEiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoMTI1djIyLjM3N0gweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==" alt="IOXIO"> </div>   <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1-desktop mdc-layout-grid__cell--span-0-tablet mdc-layout-grid__cell--span-0-phone"> </div> </div> </div>   <div class="mdc-layout-grid"><div class="mdc-layout-grid__inner">  <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1-desktop mdc-layout-grid__cell--span-0-tablet mdc-layout-grid__cell--span-0-phone"> </div>   <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-11-desktop mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone"><a class="github-link svelte-8d18wx" href="https://github.com/ioxiocom/ioxio-docs" target="_blank" rel="noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDEuNDhDNS4zNjkuNDggMCA1Ljc2IDAgMTIuMjkyYzAgNS4yMjIgMy40NCA5LjY0MSA4LjIxMiAxMS4yMDYuNTk3LjExNy44MTUtLjI1NS44MTUtLjU2NyAwLS4yNzQtLjAyLTEuMjEzLS4wMi0yLjE5LTMuMzQuNzAzLTQuMDM2LTEuNDA5LTQuMDM2LTEuNDA5LS41MzctMS4zNjktMS4zMzItMS43Mi0xLjMzMi0xLjcyLTEuMDk0LS43MjQuMDgtLjcyNC4wOC0uNzI0IDEuMjEyLjA3OCAxLjg0OSAxLjIxMiAxLjg0OSAxLjIxMiAxLjA3MyAxLjggMi44MDMgMS4yOTEgMy41Ljk3OC4wOTgtLjc2My40MTctMS4yOS43NTUtMS41ODQtMi42NjUtLjI3NC01LjQ2OC0xLjI5LTUuNDY4LTUuODI4IDAtMS4yOS40NzctMi4zNDcgMS4yMzItMy4xNjgtLjExOS0uMjkzLS41MzctMS41MDYuMTItMy4xMjkgMCAwIDEuMDE0LS4zMTMgMy4zIDEuMjEzYTExLjggMTEuOCAwIDAgMSAzLjAwMy0uMzkyYzEuMDE0IDAgMi4wNDguMTM3IDMuMDAyLjM5MiAyLjI4Ny0xLjUyNiAzLjMwMS0xLjIxMyAzLjMwMS0xLjIxMy42NTcgMS42MjMuMjM5IDIuODM2LjEyIDMuMTMuNzc1LjgyIDEuMjMyIDEuODc2IDEuMjMyIDMuMTY3IDAgNC41MzctMi44MDMgNS41MzUtNS40ODggNS44MjguNDM4LjM3Mi44MTUgMS4wNzYuODE1IDIuMTkgMCAxLjU4NC0uMDIgMi44NTUtLjAyIDMuMjQ2IDAgLjMxMy4yMi42ODUuODE2LjU2OEMyMC41NiAyMS45MzMgMjQgMTcuNTEzIDI0IDEyLjI5MiAyNC4wMiA1Ljc2IDE4LjYzLjQ4IDEyLjAxLjQ4IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=" alt="GitHub repository"> <div data-svelte-h="svelte-jxnbiu">Contribute to these docs</div> </a> </div> </div> </div>   <div class="mdc-layout-grid"><div class="mdc-layout-grid__inner">  <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1-desktop mdc-layout-grid__cell--span-0-tablet mdc-layout-grid__cell--span-0-phone"> </div>   <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-12-phone"><div class="body-2 svelte-earpbm" data-svelte-h="svelte-12895e">IOXIO® is a registered trademark of IOXIO Oy. IOXIO Dataspace™ and IOXIO Tags™ are
            trademarks of IOXIO Oy.</div> </div>   <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-12-phone"><div class="copyright-text body-2 svelte-earpbm" data-svelte-h="svelte-arag5x">Copyright © IOXIO® 2024</div> </div>   <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1-desktop mdc-layout-grid__cell--span-0-tablet mdc-layout-grid__cell--span-0-phone"> </div> </div> </div> </div></div> </footer> </section> 
			
			<script>
				{
					__sveltekit_vbnve = {
						base: new URL("../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [{"type":"data","data":null,"uses":{},"slash":"always"},{"type":"data","data":{path:"/guides/verifying-consent-in-data-source/",route:"/guides/verifying-consent-in-data-source",guide:{title:"Legacy: How to verify consent in data source",href:"/guides/verifying-consent-in-data-source"},images:{DECODED_CONSENT_TOKEN:{src:"/guides/verifying-consent-in-data-source/decoded_consent_token.png",alt:"Decoded consent token"}}},"uses":{"route":1,"url":1}}];

					Promise.all([
						import("../../_app/immutable/entry/start.4d508623.js"),
						import("../../_app/immutable/entry/app.6aaf801a.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 17],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
